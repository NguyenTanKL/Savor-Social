{"ast":null,"code":"const getRecommendations = async user => {\n  const {\n    address,\n    preferences\n  } = user;\n  const allRestaurants = await fetch('/api/restaurants').then(res => res.json());\n  const allNormalUsers = await fetch('/api/normal-users').then(res => res.json());\n  const filteredRestaurants = allRestaurants.filter(restaurant => preferences.some(pref => restaurant.foodTypes.includes(pref))).sort((a, b) => b.rating - a.rating).slice(0, 5);\n  const filteredNormalUsers = allNormalUsers.filter(normalUser => preferences.some(pref => normalUser.preferences.includes(pref))).sort((a, b) => b.points - a.points).slice(0, 5);\n  return {\n    restaurants: filteredRestaurants,\n    normalUsers: filteredNormalUsers\n  };\n};","map":{"version":3,"names":["getRecommendations","user","address","preferences","allRestaurants","fetch","then","res","json","allNormalUsers","filteredRestaurants","filter","restaurant","some","pref","foodTypes","includes","sort","a","b","rating","slice","filteredNormalUsers","normalUser","points","restaurants","normalUsers"],"sources":["F:/DACN/do-an/Frontend/src/utils/recommendations.js"],"sourcesContent":["const getRecommendations = async (user) => {\r\n    const { address, preferences } = user;\r\n    const allRestaurants = await fetch('/api/restaurants').then(res => res.json());\r\n    const allNormalUsers = await fetch('/api/normal-users').then(res => res.json());\r\n  \r\n    const filteredRestaurants = allRestaurants\r\n      .filter(restaurant => preferences.some(pref => restaurant.foodTypes.includes(pref)))\r\n      .sort((a, b) => b.rating - a.rating)\r\n      .slice(0, 5);\r\n  \r\n    const filteredNormalUsers = allNormalUsers\r\n      .filter(normalUser => preferences.some(pref => normalUser.preferences.includes(pref)))\r\n      .sort((a, b) => b.points - a.points)\r\n      .slice(0, 5);\r\n  \r\n    return { restaurants: filteredRestaurants, normalUsers: filteredNormalUsers };\r\n  };"],"mappings":"AAAA,MAAMA,kBAAkB,GAAG,MAAOC,IAAI,IAAK;EACvC,MAAM;IAAEC,OAAO;IAAEC;EAAY,CAAC,GAAGF,IAAI;EACrC,MAAMG,cAAc,GAAG,MAAMC,KAAK,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;EAC9E,MAAMC,cAAc,GAAG,MAAMJ,KAAK,CAAC,mBAAmB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;EAE/E,MAAME,mBAAmB,GAAGN,cAAc,CACvCO,MAAM,CAACC,UAAU,IAAIT,WAAW,CAACU,IAAI,CAACC,IAAI,IAAIF,UAAU,CAACG,SAAS,CAACC,QAAQ,CAACF,IAAI,CAAC,CAAC,CAAC,CACnFG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,MAAM,GAAGF,CAAC,CAACE,MAAM,CAAC,CACnCC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAEd,MAAMC,mBAAmB,GAAGb,cAAc,CACvCE,MAAM,CAACY,UAAU,IAAIpB,WAAW,CAACU,IAAI,CAACC,IAAI,IAAIS,UAAU,CAACpB,WAAW,CAACa,QAAQ,CAACF,IAAI,CAAC,CAAC,CAAC,CACrFG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACK,MAAM,GAAGN,CAAC,CAACM,MAAM,CAAC,CACnCH,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAEd,OAAO;IAAEI,WAAW,EAAEf,mBAAmB;IAAEgB,WAAW,EAAEJ;EAAoB,CAAC;AAC/E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}